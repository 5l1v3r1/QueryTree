(function(){ko.bindingHandlers.pickatime={init:function(n,t,i){var f,e,v,y,h,r,c,o,u,p,s,l,a;s=t();r={clear:"Clear",format:"hh:i A",formatLabel:void 0,formatSubmit:void 0,hiddenPrefix:void 0,hiddenSuffix:"_submit",editable:void 0,interval:30,min:void 0,max:void 0,disable:void 0,container:void 0,onStart:void 0,onRender:void 0,onOpen:void 0,onClose:void 0,onSet:void 0,onStop:void 0,klass:{input:"picker__input",active:"picker__input--active",picker:"picker picker--time",opened:"picker--opened",focused:"picker--focused",holder:"picker__holder",frame:"picker__frame",wrap:"picker__wrap",box:"picker__box",list:"picker__list",listItem:"picker__list-item",disabled:"picker__list-item--disabled",selected:"picker__list-item--selected",highlighted:"picker__list-item--highlighted",viewset:"picker__list-item--viewset",now:"picker__list-item--now",buttonClear:"picker__button--clear"}};o=i.get("pickatime_options");c="function"==typeof o?o():o||{};for(h in c)p=c[h],r[h]=p;a=function(n){return n.attr("autocomplete","off").pickatime(r).pickatime("picker")};r.clear_button_addon||r.clock_addon?(l=(new Date).getTime(),r.container="#"+l,y="before"===r.clock_addon?"before":"after",v="before"===r.clear_button_addon?"before":"after",e=r.clock_addon?$("<span class='input-group-addon'><i style='color: navy; cursor: pointer'title='A time picker appears when interacting with this field'class='fa fa-clock-o'><\/i><\/span>"):void 0,f=r.clear_button_addon?$("<span class='input-group-addon'><i style='color: navy; cursor: pointer'title='Click to clear time'class='fa fa-times'><\/i><\/span>"):void 0,u=a($(n).wrap($("<div id="+l+"><\/div>")).wrap($("<div class='input-group'><\/div>"))),$(n)[v](f),$(n)[y](e),r.clock_addon&&e.on("click",function(n){return u.open(),n.stopPropagation(),n.preventDefault()}),r.clear_button_addon&&f.on("click",function(n){return u.set("clear"),n.stopPropagation(),n.preventDefault()})):u=a($(n));u.on("set",function(){var n;return n=u.get("select"),n?n!==s()?s(u.get()):void 0:s(n)});ko.utils.domNodeDisposal.addDisposeCallback(n,function(){return r.clock_addon&&e.off("click"),r.clear_button_addon&&f.off("click"),u.get("start")?u.stop():void 0})},update:function(n,t){var i,r,u;return u=t(),i=ko.unwrap(u),r=$(n).pickatime("picker"),null==i||""===i?void r.set("clear"):void r.set("select",i)}}}).call(this);
/*!
* pickadate.js v3.5.4, 2014/09/11
* By Amsul, http://amsul.ca
* Hosted on http://amsul.github.io/pickadate.js
* Licensed under MIT
*/
!function(n){"function"==typeof define&&define.amd?define("picker",["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):this.Picker=n(jQuery)}(function(n){function t(f,s,h,c){function k(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",l.component.nodes(a.open),y.box),y.wrap),y.frame),y.holder)}function nt(){p.data(s,l).addClass(y.input).attr("tabindex",-1).val(p.data("value")?l.get("select",v.format):f.value);v.editable||p.on("focus."+a.id+" click."+a.id,function(n){n.preventDefault();l.$root[0].focus()}).on("keydown."+a.id,d);i(f,{haspopup:!0,expanded:!1,readonly:!1,owns:f.id+"_root"+(l._hidden?" "+l._hidden.id:"")})}function tt(){l.$root.on({keydown:d,focusin:function(n){l.$root.removeClass(y.focused);n.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=l.$root.children()[0]&&(t.stopPropagation(),"mousedown"!=t.type||n(i).is(":input")||"OPTION"==i.nodeName||(t.preventDefault(),l.$root[0].focus()))}}).on({focus:function(){p.addClass(y.target)},blur:function(){p.removeClass(y.target)}}).on("focus.toOpen",g).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var r=n(this),i=r.data(),u=r.hasClass(y.navDisabled)||r.hasClass(y.disabled),t=document.activeElement;t=t&&(t.type||t.href)&&t;(u||t&&!n.contains(l.$root[0],t))&&l.$root[0].focus();!u&&i.nav?l.set("highlight",l.component.item.highlight,{nav:i.nav}):!u&&"pick"in i?l.set("select",i.pick).close(!0):i.clear?l.clear().close(!0):i.close&&l.close(!0)});i(l.$root[0],"hidden",!0)}function it(){var t;v.hiddenName===!0?(t=f.name,f.name=""):(t=["string"==typeof v.hiddenPrefix?v.hiddenPrefix:"","string"==typeof v.hiddenSuffix?v.hiddenSuffix:"_submit"],t=t[0]+f.name+t[1]);l._hidden=n('<input type=hidden name="'+t+'"'+(p.data("value")||f.value?' value="'+l.get("select",v.formatSubmit)+'"':"")+">")[0];p.on("change."+a.id,function(){l._hidden.value=f.value?l.get("select",v.formatSubmit):""}).after(l._hidden)}function d(n){var t=n.keyCode,i=/^(8|46)$/.test(t);return 27==t?(l.close(),!1):void((32==t||i||!a.open&&l.component.key[t])&&(n.preventDefault(),n.stopPropagation(),i?l.clear().close():l.open()))}function g(n){n.stopPropagation();"focus"==n.type&&l.$root.addClass(y.focused);l.open()}if(!f)return t;var w=!1,a={id:f.id||"P"+Math.abs(~~(Math.random()*new Date))},v=h?n.extend(!0,{},h.defaults,c):c||{},y=n.extend({},t.klasses(),v.klass),p=n(f),b=function(){return this.start()},l=b.prototype={constructor:b,$node:p,start:function(){return a&&a.start?l:(a.methods={},a.start=!0,a.open=!1,a.type=f.type,f.autofocus=f==document.activeElement,f.readOnly=!v.editable,f.id=f.id||a.id,"text"!=f.type&&(f.type="text"),l.component=new h(l,v),l.$root=n(t._.node("div",k(),y.picker,'id="'+f.id+'_root" tabindex="0"')),tt(),v.formatSubmit&&it(),nt(),v.container?n(v.container).append(l.$root):p.after(l.$root),l.on({start:l.component.onStart,render:l.component.onRender,stop:l.component.onStop,open:l.component.onOpen,close:l.component.onClose,set:l.component.onSet}).on({start:v.onStart,render:v.onRender,stop:v.onStop,open:v.onOpen,close:v.onClose,set:v.onSet}),w=o(l.$root.children()[0]),f.autofocus&&l.open(),l.trigger("start").trigger("render"))},render:function(n){return n?l.$root.html(k()):l.$root.find("."+y.box).html(l.component.nodes(a.open)),l.trigger("render")},stop:function(){return a.start?(l.close(),l._hidden&&l._hidden.parentNode.removeChild(l._hidden),l.$root.remove(),p.removeClass(y.input).removeData(s),setTimeout(function(){p.off("."+a.id)},0),f.type=a.type,f.readOnly=!1,l.trigger("stop"),a.methods={},a.start=!1,l):l},open:function(o){return a.open?l:(p.addClass(y.active),i(f,"expanded",!0),setTimeout(function(){l.$root.addClass(y.opened);i(l.$root[0],"hidden",!1)},0),o!==!1&&(a.open=!0,w&&r.css("overflow","hidden").css("padding-right","+="+u()),l.$root[0].focus(),e.on("click."+a.id+" focusin."+a.id,function(n){var t=n.target;t!=f&&t!=document&&3!=n.which&&l.close(t===l.$root.children()[0])}).on("keydown."+a.id,function(i){var r=i.keyCode,u=l.component.key[r],f=i.target;27==r?l.close(!0):f!=l.$root[0]||!u&&13!=r?n.contains(l.$root[0],f)&&13==r&&(i.preventDefault(),f.click()):(i.preventDefault(),u?t._.trigger(l.component.key.go,l,[t._.trigger(u)]):l.$root.find("."+y.highlighted).hasClass(y.disabled)||l.set("select",l.component.item.highlight).close())})),l.trigger("open"))},close:function(n){return n&&(l.$root.off("focus.toOpen")[0].focus(),setTimeout(function(){l.$root.on("focus.toOpen",g)},0)),p.removeClass(y.active),i(f,"expanded",!1),setTimeout(function(){l.$root.removeClass(y.opened+" "+y.focused);i(l.$root[0],"hidden",!0)},0),a.open?(a.open=!1,w&&r.css("overflow","").css("padding-right","-="+u()),e.off("."+a.id),l.trigger("close")):l},clear:function(n){return l.set("clear",null,n)},set:function(t,i,r){var u,f,o=n.isPlainObject(t),e=o?t:{};if(r=o&&n.isPlainObject(i)?i:r||{},t){o||(e[t]=i);for(u in e)f=e[u],u in l.component.item&&(void 0===f&&(f=null),l.component.set(u,f,r)),("select"==u||"clear"==u)&&p.val("clear"==u?"":l.get(u,v.format)).trigger("change");l.render()}return r.muted?l:l.trigger("set",e)},get:function(n,i){if(n=n||"value",null!=a[n])return a[n];if("value"==n)return f.value;if(n in l.component.item){if("string"==typeof i){var r=l.component.get(n);return r?t._.trigger(l.component.formats.toString,l.component,[i,r]):""}return l.component.get(n)}},on:function(t,i,r){var u,e,o=n.isPlainObject(t),f=o?t:{};if(t){o||(f[t]=i);for(u in f)e=f[u],r&&(u="_"+u),a.methods[u]=a.methods[u]||[],a.methods[u].push(e)}return l},off:function(){var n,t,i=arguments;for(n=0,namesCount=i.length;namesCount>n;n+=1)t=i[n],t in a.methods&&delete a.methods[t];return l},trigger:function(n,i){var r=function(n){var r=a.methods[n];r&&r.map(function(n){t._.trigger(n,l,[i])})};return r("_"+n),r(n),l}};return new b}function o(n){var t,i="position";return n.currentStyle?t=n.currentStyle[i]:window.getComputedStyle&&(t=getComputedStyle(n)[i]),"fixed"==t}function u(){var t,i,u,f;return r.height()<=h.height()?0:(t=n('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=t[0].offsetWidth,t.css("overflow","scroll"),u=n('<div style="width:100%" />').appendTo(t),f=u[0].offsetWidth,t.remove(),i-f)}function i(t,i,r){if(n.isPlainObject(i))for(var u in i)f(t,u,i[u]);else f(t,i,r)}function f(n,t,i){n.setAttribute(("role"==t?"":"aria-")+t,i)}function s(t,i){var r,u,f;n.isPlainObject(t)||(t={attribute:i});i="";for(r in t)u=("role"==r?"":"aria-")+r,f=t[r],i+=null==f?"":u+'="'+t[r]+'"';return i}var h=n(window),e=n(document),r=n(document.documentElement);return t.klasses=function(n){return n=n||"picker",{picker:n,opened:n+"--opened",focused:n+"--focused",input:n+"__input",active:n+"__input--active",target:n+"__input--target",holder:n+"__holder",frame:n+"__frame",wrap:n+"__wrap",box:n+"__box"}},t._={group:function(n){for(var i,u="",r=t._.trigger(n.min,n);r<=t._.trigger(n.max,n,[r]);r+=n.i)i=t._.trigger(n.item,n,[r]),u+=t._.node(n.node,i[0],i[1],i[2]);return u},node:function(t,i,r,u){return i?(i=n.isArray(i)?i.join(""):i,r=r?' class="'+r+'"':"",u=u?" "+u:"","<"+t+r+u+">"+i+"<\/"+t+">"):""},lead:function(n){return(10>n?"0":"")+n},trigger:function(n,t,i){return"function"==typeof n?n.apply(t,i||[]):n},digits:function(n){return/\d/.test(n[1])?2:1},isDate:function(n){return{}.toString.call(n).indexOf("Date")>-1&&this.isInteger(n.getUTCDate())},isInteger:function(n){return{}.toString.call(n).indexOf("Number")>-1&&n%1==0},ariaAttr:s},t.extend=function(i,r){n.fn[i]=function(u,f){var e=this.data(i);return"picker"==u?e:e&&"string"==typeof u?t._.trigger(e[u],e,[f]):this.each(function(){var f=n(this);f.data(i)||new t(this,i,r,u)})};n.fn[i].defaults=r.defaults},t});
/*!
* Time picker for pickadate.js v3.5.4
* http://amsul.github.io/pickadate.js/time.htm
*/
!function(n){"function"==typeof define&&define.amd?define(["picker","jquery"],n):"object"==typeof exports?module.exports=n(require("./picker.js"),require("jquery")):n(Picker,jQuery)}(function(n,t){function r(n,t){var i=this,r=n.$node[0].value,u=n.$node.data("value"),f=u||r,e=u?t.formatSubmit:t.format;i.settings=t;i.$node=n.$node;i.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"};i.item={};i.item.clear=null;i.item.interval=t.interval||30;i.item.disable=(t.disable||[]).slice(0);i.item.enable=-function(n){return n[0]===!0?n.shift():-1}(i.item.disable);i.set("min",t.min).set("max",t.max).set("now");f?i.set("select",f,{format:e,fromValue:!!r}):i.set("select",null).set("highlight",i.item.now);i.key={40:1,38:-1,39:1,37:-1,go:function(n){i.set("highlight",i.item.highlight.pick+n*i.item.interval,{interval:n*i.item.interval});this.render()}};n.on("render",function(){var i=n.$root.children(),r=i.find("."+t.klass.viewset),u=function(n){return["webkit","moz","ms","o",""].map(function(t){return(t?"-"+t+"-":"")+n})},f=function(n,t){u("transform").map(function(i){n.css(i,t)});u("transition").map(function(i){n.css(i,t)})};r.length&&(f(i,"none"),i[0].scrollTop=~~r.position().top-2*r[0].clientHeight,f(i,""))},1).on("open",function(){n.$root.find("button").attr("disabled",!1)},1).on("close",function(){n.$root.find("button").attr("disabled",!0)},1)}var e=24,u=60,o=12,f=e*u,i=n._;r.prototype.set=function(n,t,i){var r=this,u=r.item;return null===t?("clear"==n&&(n="select"),u[n]=t,r):(u["enable"==n?"disable":"flip"==n?"enable":n]=r.queue[n].split(" ").map(function(u){return t=r[u](n,t,i)}).pop(),"select"==n?r.set("highlight",u.select,i):"highlight"==n?r.set("view",u.highlight,i):"interval"==n?r.set("min",u.min,i).set("max",u.max,i):n.match(/^(flip|min|max|disable|enable)$/)&&("min"==n&&r.set("max",u.max,i),u.select&&r.disabled(u.select)&&r.set("select",u.select,i),u.highlight&&r.disabled(u.highlight)&&r.set("highlight",u.highlight,i)),r)};r.prototype.get=function(n){return this.item[n]};r.prototype.create=function(n,r,o){var s=this;return r=void 0===r?n:r,i.isDate(r)&&(r=[r.getHours(),r.getMinutes()]),t.isPlainObject(r)&&i.isInteger(r.pick)?r=r.pick:t.isArray(r)?r=+r[0]*u+ +r[1]:i.isInteger(r)||(r=s.now(n,r,o)),"max"==n&&r<s.item.min.pick&&(r+=f),"min"!=n&&"max"!=n&&(r-s.item.min.pick)%s.item.interval!=0&&(r+=s.item.interval),r=s.normalize(n,r,o),{hour:~~(e+r/u)%e,mins:(u+r%u)%u,time:(f+r)%f,pick:r}};r.prototype.createRange=function(n,r){var f=this,u=function(n){return n===!0||t.isArray(n)||i.isDate(n)?f.create(n):n};return i.isInteger(n)||(n=u(n)),i.isInteger(r)||(r=u(r)),i.isInteger(n)&&t.isPlainObject(r)?n=[r.hour,r.mins+n*f.settings.interval]:i.isInteger(r)&&t.isPlainObject(n)&&(r=[n.hour,n.mins+r*f.settings.interval]),{from:u(n),to:u(r)}};r.prototype.withinRange=function(n,t){return n=this.createRange(n.from,n.to),t.pick>=n.from.pick&&t.pick<=n.to.pick};r.prototype.overlapRanges=function(n,t){var i=this;return n=i.createRange(n.from,n.to),t=i.createRange(t.from,t.to),i.withinRange(n,t.from)||i.withinRange(n,t.to)||i.withinRange(t,n.from)||i.withinRange(t,n.to)};r.prototype.now=function(n,t){var e,f=this.item.interval,o=new Date,r=o.getHours()*u+o.getMinutes(),s=i.isInteger(t);return r-=r%f,e=0>t&&-f>=f*t+r,r+="min"==n&&e?0:f,s&&(r+=f*(e&&"max"!=n?t+1:t)),r};r.prototype.normalize=function(n,t){var i=this.item.interval,r=this.item.min&&this.item.min.pick||0;return t-("min"==n?0:(t-r)%i)};r.prototype.measure=function(n,r,f){var o=this;return r||(r="min"==n?[0,0]:[e-1,u-1]),"string"==typeof r?r=o.parse(n,r):r===!0||i.isInteger(r)?r=o.now(n,r,f):t.isPlainObject(r)&&i.isInteger(r.pick)&&(r=o.normalize(n,r.pick,f)),r};r.prototype.validate=function(n,t,i){var r=this,u=i&&i.interval?i.interval:r.item.interval;return r.disabled(t)&&(t=r.shift(t,u)),t=r.scope(t),r.disabled(t)&&(t=r.shift(t,-1*u)),t};r.prototype.disabled=function(n){var r=this,u=r.item.disable.filter(function(u){return i.isInteger(u)?n.hour==u:t.isArray(u)||i.isDate(u)?n.pick==r.create(u).pick:t.isPlainObject(u)?r.withinRange(u,n):void 0});return u=u.length&&!u.filter(function(n){return t.isArray(n)&&"inverted"==n[2]||t.isPlainObject(n)&&n.inverted}).length,-1===r.item.enable?!u:u||n.pick<r.item.min.pick||n.pick>r.item.max.pick};r.prototype.shift=function(n,t){var i=this,r=i.item.min.pick,u=i.item.max.pick;for(t=t||i.item.interval;i.disabled(n)&&(n=i.create(n.pick+=t),!(n.pick<=r||n.pick>=u)););return n};r.prototype.scope=function(n){var t=this.item.min.pick,i=this.item.max.pick;return this.create(n.pick>i?i:n.pick<t?t:n)};r.prototype.parse=function(n,t,r){var s,c,l,f,o,h=this,e={};if(!t||"string"!=typeof t)return t;r&&r.format||(r=r||{},r.format=h.settings.format);h.formats.toArray(r.format).map(function(n){var r,u=h.formats[n],f=u?i.trigger(u,h,[t,e]):n.replace(/^!/,"").length;u&&(r=t.substr(0,f),e[n]=r.match(/^\d+$/)?+r:r);t=t.substr(f)});for(f in e)o=e[f],i.isInteger(o)?f.match(/^(h|hh)$/i)?(s=o,("h"==f||"hh"==f)&&(s%=12)):"i"==f&&(c=o):f.match(/^a$/i)&&o.match(/^p/i)&&("h"in e||"hh"in e)&&(l=!0);return(l?s+12:s)*u+c};r.prototype.formats={h:function(n,t){return n?i.digits(n):t.hour%o||o},hh:function(n,t){return n?2:i.lead(t.hour%o||o)},H:function(n,t){return n?i.digits(n):""+t.hour%24},HH:function(n,t){return n?i.digits(n):i.lead(t.hour%24)},i:function(n,t){return n?2:i.lead(t.mins)},a:function(n,t){return n?4:f/2>t.time%f?"a.m.":"p.m."},A:function(n,t){return n?2:f/2>t.time%f?"AM":"PM"},toArray:function(n){return n.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(n,t){var r=this;return r.formats.toArray(n).map(function(n){return i.trigger(r.formats[n],r,[0,t])||n.replace(/^!/,"")}).join("")}};r.prototype.isTimeExact=function(n,r){var u=this;return i.isInteger(n)&&i.isInteger(r)||"boolean"==typeof n&&"boolean"==typeof r?n===r:(i.isDate(n)||t.isArray(n))&&(i.isDate(r)||t.isArray(r))?u.create(n).pick===u.create(r).pick:t.isPlainObject(n)&&t.isPlainObject(r)?u.isTimeExact(n.from,r.from)&&u.isTimeExact(n.to,r.to):!1};r.prototype.isTimeOverlap=function(n,r){var u=this;return i.isInteger(n)&&(i.isDate(r)||t.isArray(r))?n===u.create(r).hour:i.isInteger(r)&&(i.isDate(n)||t.isArray(n))?r===u.create(n).hour:t.isPlainObject(n)&&t.isPlainObject(r)?u.overlapRanges(n,r):!1};r.prototype.flipEnable=function(n){var t=this.item;t.enable=n||(-1==t.enable?1:-1)};r.prototype.deactivate=function(n,r){var f=this,u=f.item.disable.slice(0);return"flip"==r?f.flipEnable():r===!1?(f.flipEnable(1),u=[]):r===!0?(f.flipEnable(-1),u=[]):r.map(function(n){for(var e,r=0;r<u.length;r+=1)if(f.isTimeExact(n,u[r])){e=!0;break}e||(i.isInteger(n)||i.isDate(n)||t.isArray(n)||t.isPlainObject(n)&&n.from&&n.to)&&u.push(n)}),u};r.prototype.activate=function(n,r){var f=this,u=f.item.disable,e=u.length;return"flip"==r?f.flipEnable():r===!0?(f.flipEnable(1),u=[]):r===!1?(f.flipEnable(-1),u=[]):r.map(function(n){for(var o,s,h,r=0;e>r;r+=1){if(s=u[r],f.isTimeExact(s,n)){o=u[r]=null;h=!0;break}if(f.isTimeOverlap(s,n)){t.isPlainObject(n)?(n.inverted=!0,o=n):t.isArray(n)?(o=n,o[2]||o.push("inverted")):i.isDate(n)&&(o=[n.getFullYear(),n.getMonth(),n.getDate(),"inverted"]);break}}if(o)for(r=0;e>r;r+=1)if(f.isTimeExact(u[r],n)){u[r]=null;break}if(h)for(r=0;e>r;r+=1)if(f.isTimeOverlap(u[r],n)){u[r]=null;break}o&&u.push(o)}),u.filter(function(n){return null!=n})};r.prototype.i=function(n,t){return i.isInteger(t)&&t>0?t:this.item.interval};r.prototype.nodes=function(n){var t=this,r=t.settings,u=t.item.select,f=t.item.highlight,e=t.item.view,o=t.item.disable;return i.node("ul",i.group({min:t.item.min.pick,max:t.item.max.pick,i:t.item.interval,node:"li",item:function(n){n=t.create(n);var s=n.pick,h=u&&u.pick==s,c=f&&f.pick==s,l=o&&t.disabled(n);return[i.trigger(t.formats.toString,t,[i.trigger(r.formatLabel,t,[n])||r.format,n]),function(n){return h&&n.push(r.klass.selected),c&&n.push(r.klass.highlighted),e&&e.pick==s&&n.push(r.klass.viewset),l&&n.push(r.klass.disabled),n.join(" ")}([r.klass.listItem]),"data-pick="+n.pick+" "+i.ariaAttr({role:"option",selected:h&&t.$node.val()===i.trigger(t.formats.toString,t,[r.format,n])?!0:null,activedescendant:c?!0:null,disabled:l?!0:null})]}})+i.node("li",i.node("button",r.clear,r.klass.buttonClear,"type=button data-clear=1"+(n?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id})),"",i.ariaAttr({role:"presentation"})),r.klass.list,i.ariaAttr({role:"listbox",controls:t.$node[0].id}))};r.defaults=function(n){return{clear:"Clear",format:"h:i A",interval:30,klass:{picker:n+" "+n+"--time",holder:n+"__holder",list:n+"__list",listItem:n+"__list-item",disabled:n+"__list-item--disabled",selected:n+"__list-item--selected",highlighted:n+"__list-item--highlighted",viewset:n+"__list-item--viewset",now:n+"__list-item--now",buttonClear:n+"__button--clear"}}}(n.klasses().picker);n.extend("pickatime",r)});backend={},function(){backend.CheckConnection=function(n,t){var i=utils.GetHiddenValByName("DatabaseConnectionID");$.getJSON("/api/connection/?databaseId="+i,function(n){t(n)})};backend.LoadTables=function(n){var t=utils.GetHiddenValByName("DatabaseConnectionID");$.getJSON("/api/tables/?databaseId="+t,function(t){n(t)}).fail(function(){n([])})};backend.GetJoins=function(n,t){var i=utils.GetHiddenValByName("DatabaseConnectionID");$.getJSON("/api/joins/?databaseId="+i+"&tableName="+n,function(n){t(n)}).fail(function(){t([])})};var t=!1,i=[],n=null;backend.saveQuery=function(r,u,f){f&&i.push(f);t?n=u:(t=!0,n=null,$.ajax({url:"/api/Nodes",type:"POST",data:{id:r(),databaseId:utils.GetHiddenValByName("DatabaseConnectionID"),nodes:JSON.stringify(u)},dataType:"json"}).done(function(u){if(r(u.id),t=!1,n){var f=n;n=null;backend.saveQuery(r,f)}else while(i.length>0)i.shift()()}).fail(function(){t=!1;n=null;i.length=0}))};backend.LoadData=function(n,t,i,r,u,f,e,o){n()?$.getJSON("/api/data/?id="+n()+"&nodeId="+i+"&startRow="+r+"&rowCount="+u,function(n){n.query&&console.log(n.query);o(n)}).fail(function(s){s.status=="404"?(n(null),backend.LoadData(n,t,i,r,u,f,e,o)):o({status:"error"})}):backend.saveQuery(n,t,function(){backend.LoadData(n,t,i,r,u,f,e,o)})};backend.SaveSchedule=function(n,t){$.ajax({url:"/api/schedule",type:"POST",contentType:"application/json",data:JSON.stringify(n),dataType:"json"}).done(function(n){t(n)}).fail(function(n){t(n)})};backend.GetSchedule=function(n){return $.ajax({url:"/api/schedule?id="+n,type:"GET",contentType:"application/json",dataType:"json"})};backend.LoadQueryColumnsName=function(n){return $.ajax({url:"/api/QueryColumnsName?queryId="+n,type:"GET"})}}();